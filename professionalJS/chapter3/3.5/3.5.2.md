# 位操作符

> ECMAScript中所有数值都是IEEE-75464位格式存储，但操作符并不直接操作64位。而是先将64位的值转换成32位的整数，然后再执行操作，最后再将结果转换回64位。

1. 有符号的整数，32位中的前31位用于表示整数的值，第32位用于表示数值的符号：0表示整数，1表示负数
2. 这个符号的位叫做符号位，符号位决定了其他位数值的格式。
```
//正数以纯二进制格式存储，31位中的每一位都表示2的幂
//数值18的二进制表示
00000000000000000000000000010010 
//更简洁的
10010
2^4*1 + 2^3*0 + 2^2*0 + 2^1*1 + 2^0*0
16 + 0 + 0 + 2 + 0
```

```
负数同样以二进制码存储，但使用的格式是二进制补码，需要经过以下3个步骤
1. 求这个数值绝对值的二进制码
18: 0000 0000 0000 0000 0000 0000 0001 0010
2. 求二进制反码，
1111 1111 1111 1111 1111 1111 1110 1101
3. 得到的二进制反码加1
1111 1111 1111 1111 1111 1111 1110 1110
ECMAScript会尽力像我们隐藏所有这些信息。在以二进制字符串输出一个负数时，我们看到的只是这个负数绝对值的二进制码前面加一个负号

var num = -18
alert(num.toString(2)) // -10010
```

## 按位非(NOT)

1. 按位非操作符由一个波浪线(~)表示，
2. 执行结果就是返回数值的反码
3. 按位非操作的本质：操作数的负值减1
```
var num1 = 25
var num2 = ~num1
alert(num2) //-26
//同
var num2 = -num1 - 1
//由于按位非是在数值表示的最底层执行操作，因此速度更快
```

## 按位与(AND)

1. 按位与操作符由一个和号符(&)表示
2. 按位与操作就是将两个数值的每一位对齐，然后根据下表中的规则，对相同位置上的两个数执行AND操作

第一个数值的位|第二个数值的位|结果
---|---|---
1|1|1
1|0|0
0|1|0
0|0|0

```
25 = 0000 0000 0000 0000 0000 0000 0001 1001
 3 = 0000 0000 0000 0000 0000 0000 0000 0011
AND= 0000 0000 0000 0000 0000 0000 0000 0001
```

## 按位或(OR)

1. 按位或操作符由一个竖线符(|)表示,遵循下面真值表

第一个数值的位|第二个数值的位|结果
---|---|---
1|1|1
1|0|1
0|1|1
0|0|0

## 按位异或(XOR)

1. 按位异或操作符由一个符号(^) 表示

第一个数值的位|第二个数值的位|结果
---|---|---
1|1|0
1|0|1
0|1|1
0|0|0
